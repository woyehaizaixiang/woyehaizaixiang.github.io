I"B<h2 id="å®‰è£…è¿‡ç¨‹">å®‰è£…è¿‡ç¨‹</h2>
<h3 id="å®‰è£…ubuntu">å®‰è£…Ubuntu</h3>
<p>æˆ‘æ‰‹å¤´æœ‰çš„æ˜¯Ubuntu Server 12.04 64ä½ç‰ˆï¼Œå°±ç›´æ¥ç”¨äº†ï¼Œé»˜è®¤å®‰è£…å³å¯ï¼Œé…ç½®çš„æ—¶å€™å¾ˆç®€å•ï¼Œå¦‚ä¸‹</p>

<ul>
  <li>å†…å­˜:1G</li>
  <li>ç¡¬ç›˜:20G</li>
  <li>å¤„ç†å™¨:2</li>
  <li>ç½‘ç»œ:NAT</li>
</ul>

<p>è£…å¥½ä»¥åç™»é™†ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo passwd root                   #è®¾ç½®rootå¯†ç 
su                                 #ä»¥rootç™»é™†
apt-get update                     #æ›´æ–°æº
apt-get install git                #å®‰è£…git
</code></pre></div></div>

<h3 id="åˆ©ç”¨devstackå®‰è£…é…ç½®openstack">åˆ©ç”¨devstackå®‰è£…é…ç½®OpenStack</h3>
<p>å‚è€ƒ<a href="http://devstack.org">devstackå®˜ç½‘</a></p>
<h4 id="ä¸‹è½½devstack">ä¸‹è½½devstack</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/openstack-dev/devstack.git
</code></pre></div></div>

<h4 id="é…ç½®devstack">é…ç½®devstack</h4>
<p>è¿›å…¥devstackæ–‡ä»¶å¤¹ï¼Œåˆ›å»ºä¸€ä¸ªlocalrcæ–‡ä»¶</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># åŸºæœ¬é…ç½®
FLOATING_RANGE=192.168.0.224/27
FIXED_RANGE=10.0.0.0/24
NETWORK_GATEWAY=10.0.0.1
FIXED_NETWORK_SIZE=256
FLAT_INTERFACE=eth0

ADMIN_PASSWORD=123qwe
MYSQL_PASSWORD=123qwe
RABBIT_PASSWORD=123qwe
SERVICE_PASSWORD=123qwe
SERVICE_TOKEN=123qwe
# å¯ç”¨ceilometer
enable_service ceilometer-acompute
enable_service ceilometer-acentral
enable_service ceilometer-collector
enable_service ceilometer-api
# å¯ç”¨quantum
disable_service n-net
enable_service q-svc
enable_service q-agt
enable_service q-dhcp
enable_service q-l3
enable_service q-meta
enable_service quantum
# å¯ç”¨swift
enable_service swift
SWIFT_HASH=66a3d6b56c1f479c8b4e70ab5c2000f5
SWIFT_REPLICAS=1
SWIFT_DATA_DIR=$DEST/data
# å¯ç”¨è´Ÿè½½å‡è¡¡
enable_service sysstat
enable_service q-lbaas
# æ—¥å¿—æ–‡ä»¶
LOGFILE=$DEST/logs/stack.sh.log
VERBOSE=True
LOG_COLOR=False
SCREEN_LOGDIR=$DEST/logs/screen
</code></pre></div></div>

<p>å¦‚æœä½¿ç”¨32ä½çš„ubuntuï¼Œæ‰€ä»¥ä¸‹è½½é•œåƒçš„æ—¶å€™ä¹Ÿå¾—æ˜¯32ä½çš„ï¼Œä¿®æ”¹æ–¹æ³•ï¼Œå¤‡ä»½ä¸€ä¸‹stackrcæ–‡ä»¶ï¼Œç„¶åä¿®æ”¹åŸæ¥çš„æ–‡ä»¶ä¸­æ‰€æœ‰é•œåƒåâ€x86_64â€ä½â€i386â€ï¼Œå¦åˆ™è£…å®Œä¸èƒ½è¿è¡Œ</p>

<p>å¦‚æœæƒ³é€‰æ‹©å›ºå®šç‰ˆæœ¬å·ï¼Œå¯ä»¥ç±»ä¼¼</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GLANCE_BRANCH=stable/essex
HORIZON_BRANCH=stable/essex
KEYSTONE_BRANCH=stable/essex
NOVA_BRANCH=stable/essex
QUANTUM_BRANCH=stable/essex
SWIFT_BRANCH=1.4.8
</code></pre></div></div>

<h4 id="è¿è¡Œdevstack">è¿è¡Œdevstack</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./stack.sh
</code></pre></div></div>

<p>å®‰è£…è¿‡ç¨‹ä¸­ä¼šåˆ›å»ºä¸€ä¸ªstackè´¦æˆ·ï¼Œè¿™ä¸ªè´¦æˆ·å®‰è£…æœ€åå¥½åƒä¼šæœ‰ä¸€äº›é—®é¢˜ï¼Œæ‰€ä»¥å¯ä»¥åœ¨å®ƒåˆ›å»ºå®Œæˆåæ‰‹åŠ¨åˆ‡æ¢è¿‡å»</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo passwd stack
su stack
</code></pre></div></div>

<p>å¦‚æœä¹‹åæ— æ³•æ‰§è¡Œ<code class="highlighter-rouge">nova list</code>ç­‰å‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢å‘½ä»¤æ¥å¯¼å…¥ç¯å¢ƒå˜é‡</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>export SERVICE_TOKEN=123qwe
export OS_TENANT_NAME=demo
export OS_USERNAME=demo
export OS_PASSWORD=123qwe
export OS_AUTH_URL=http://localhost:5000/v2.0/
export SERVICE_ENDPOINT=http://localhost:35357/v2.0
</code></pre></div></div>

<h4 id="ä½¿ç”¨openstackåˆ›å»ºè™šæ‹Ÿæœº">ä½¿ç”¨OpenStackåˆ›å»ºè™šæ‹Ÿæœº</h4>

<p>å®‰è£…å®Œæˆååˆ›å»ºè™šæ‹Ÿæœºä¸€åˆ‡éƒ½æ­£å¸¸ï¼Œå¦‚æœæƒ³è¦åˆ†é…floating_ipï¼Œåœ¨å®‰å…¨ç»„éƒ¨åˆ†å¼€æ”¾tcpå’Œicmpç«¯å£ï¼Œæ–¹æ³•å¯ä»¥å‚è€ƒ<a href="http://docs.openstack.org/trunk/openstack-compute/admin/content/enabling-ping-and-ssh-on-vms.html">è¿™é‡Œ</a></p>
:ET