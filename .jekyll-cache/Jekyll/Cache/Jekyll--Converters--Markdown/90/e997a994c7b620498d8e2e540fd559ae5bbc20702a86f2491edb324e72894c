I"€0<blockquote>
  <p>Macä¸‹æ­å»ºlampå¼€å‘ç¯å¢ƒå¾ˆå®¹æ˜“ï¼Œæœ‰xamppå’Œmampç°æˆçš„é›†æˆç¯å¢ƒã€‚ä½†æ˜¯é›†æˆç¯å¢ƒå¯¹äºç»å¸¸éœ€è¦è‡ªå®šä¹‰ä¸€äº›é…ç½®çš„å¼€å‘è€…æ¥è¯´ä¼šéå¸¸éº»çƒ¦ï¼Œè€Œä¸”Macæœ¬èº«è‡ªå¸¦apacheå’Œphpï¼Œåœ¨brewçš„å¸®åŠ©ä¸‹éå¸¸å®¹æ˜“æ‰‹åŠ¨æ­å»ºï¼Œå¯æ§æ€§å¾ˆé«˜</p>
</blockquote>

<h2 id="brew"><a href="http://brew.sh/">Brew</a></h2>
<p>brewå¯¹äºmacï¼Œå°±åƒapt-getå¯¹äºubuntuï¼Œå®‰è£…è½¯ä»¶çš„å¥½å¸®æ‰‹ï¼Œä¸èƒ½æ–¹ä¾¿æ›´å¤šâ€¦</p>

<p>brewçš„å®‰è£…æ–¹å¼å¦‚ä¸‹ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ruby -e "$(curl -fsSL https://raw.github.com/mxcl/homebrew/go/install)"
</code></pre></div></div>

<p>brewå¸¸ç”¨é€‰é¡¹</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew install xxx
brew uninstall xxx
brew list 
brew update xxx
</code></pre></div></div>

<h2 id="apache-æˆ–-nginx">Apache æˆ– Nginx</h2>

<blockquote>
  <p>ä¸¤è€…åªéœ€è¦å®‰è£…ä¸€ä¸ª</p>
</blockquote>

<h3 id="apache">Apache</h3>
<p>Apacheçš„è¯ä½¿ç”¨macè‡ªå¸¦çš„åŸºæœ¬å°±å¤Ÿäº†ï¼Œæˆ‘çš„ç³»ç»Ÿæ˜¯10.9ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ§åˆ¶Apache</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apachectl start
sudo apachectl restart
sudo apachectl stop
</code></pre></div></div>

<p>å”¯ä¸€è¦æ”¹çš„æ˜¯ä¸»ç›®å½•ï¼Œmacé»˜è®¤åœ¨homeä¸‹æœ‰ä¸ª<code class="highlighter-rouge">Sites</code>ï¼ˆç«™ç‚¹ï¼‰ç›®å½•ï¼Œè®¿é—®è·¯å¾„æ˜¯</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://localhost/~user_name
</code></pre></div></div>

<p>è¿™æ ·ä¸å¤ªå®¹æ˜“è®¿é—®ï¼Œä¿®æ”¹<code class="highlighter-rouge">/etc/apache2/httpd.conf</code>å†…å®¹</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DocumentRoot /Users/username/Sites
&lt;Directory /Users/username/Sites&gt;
    Options Indexes MultiViews
    # apache 2.2
    # AllowOverride All
    # Order allow,deny
    # Allow from 127.0.0.1

    # apache 2.4
    Require local
&lt;/Directory&gt;
</code></pre></div></div>

<p>è¿™æ ·<code class="highlighter-rouge">Sites</code>ç›®å½•å°±æ˜¯ç½‘ç«™æ ¹ç›®å½•äº†ï¼Œé€šè¿‡<code class="highlighter-rouge">http://localhost</code>å°±å¯ä»¥è®¿é—®äº†ã€‚</p>

<h4 id="å¸¸ç”¨å‘½ä»¤">å¸¸ç”¨å‘½ä»¤</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apachectl start <span class="c"># å¯åŠ¨apache</span>
<span class="nb">sudo </span>apachectl stop <span class="c"># å…³é—­apache</span>
<span class="nb">sudo </span>apachectl restart <span class="c"># é‡å¯apache</span>
</code></pre></div></div>

<h4 id="è®¾ç½®vhost">è®¾ç½®vhost</h4>
<p>è®¾ç½®vhostå¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿›è¡Œç«™ç‚¹è°ƒè¯•ï¼Œå°¤å…¶æ˜¯å¯¹äºéœ€è¦åœ¨æ ¹ç›®å½•è¿è¡Œçš„ç«™ç‚¹ã€‚æ¨è <a href="https://clickontyler.com/virtualhostx/">VirtualHostX</a>.</p>

<p>è®¾ç½®æ–¹æ³•æ˜¯ï¼š</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>vi /etc/apache2/extra/httpd-vhosts.conf
</code></pre></div></div>

<p>ç„¶åè¾“å…¥ï¼š</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;Directory <span class="s2">"/pash/to/site"</span><span class="o">&gt;</span>
    Allow From All
    AllowOverride All
    Options +Indexes
&lt;/Directory&gt;
&lt;VirtualHost <span class="k">*</span>:80&gt;
       ServerName <span class="s2">"site.test"</span>
       DocumentRoot <span class="s2">"/path/to/site"</span>
&lt;/VirtualHost&gt;
</code></pre></div></div>

<p>è¿™ä¹ˆè®¾ç½®ä¼šæœ‰ä¸ªé—®é¢˜ï¼Œé»˜è®¤çš„<code class="highlighter-rouge">http://localhost</code>ä¼šè¢«è½¬åˆ°è¿™å„¿æ¥ï¼Œæ‰€ä»¥ä¸“é—¨å†è®¾ç½®ä¸€ä¸‹<code class="highlighter-rouge">localhost</code>çš„hostå°±å¥½äº†ã€‚</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;VirtualHost <span class="k">*</span>:80&gt;
    ServerName localhost
    DocumentRoot /path/to/root
&lt;/VirtualHost&gt;
</code></pre></div></div>

<p>ç„¶åæŠŠhostæ–‡ä»¶æ”¹ä¸€ä¸‹ï¼ŒæŠŠåˆšåˆšè®¾ç½®çš„<code class="highlighter-rouge">ServerName</code>æ”¹åˆ°æœ¬åœ°å°±å¥½äº†ã€‚</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>vi /etc/hosts
</code></pre></div></div>

<p>å†™å…¥ï¼š</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>127.0.0.1 site.test
</code></pre></div></div>

<h3 id="nginx">Nginx</h3>
<p>è¦ä½¿ç”¨Nginxä¹Ÿæ¯”è¾ƒæ–¹ä¾¿ï¼Œé¦–å…ˆå®‰è£…</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew install nginx
</code></pre></div></div>

<p>å¯åŠ¨å…³é—­Nginxçš„å‘½ä»¤å¦‚ä¸‹ï¼ˆå¦‚æœæƒ³è¦ç›‘å¬80ç«¯å£ï¼Œå¿…é¡»ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#æ‰“å¼€ nginx
sudo nginx
#é‡æ–°åŠ è½½é…ç½®|é‡å¯|åœæ­¢|é€€å‡º nginx
nginx -s reload|reopen|stop|quit
#æµ‹è¯•é…ç½®æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯
nginx -t
</code></pre></div></div>

<p>é…ç½®Nginx</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /usr/local/etc/nginx/
mkdir conf.d
</code></pre></div></div>

<p>ä¿®æ”¹Nginxé…ç½®æ–‡ä»¶</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vim nginx.conf
</code></pre></div></div>

<p>ä¸»è¦ä¿®æ”¹ä½ç½®æ˜¯æœ€åçš„include</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>worker_processes  1;  

error_log       /usr/local/var/log/nginx/error.log warn;

pid        /usr/local/var/run/nginx.pid;

events {
    worker_connections  256;
}

http {
    include       mime.types;
    default_type  application/octet-stream;

    log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
                      '$status $body_bytes_sent "$http_referer" '
                      '"$http_user_agent" "$http_x_forwarded_for"';

    access_log      /usr/local/var/log/nginx/access.log main;
    port_in_redirect off;
    sendfile        on; 
    keepalive_timeout  65; 

    include /usr/local/etc/nginx/conf.d/*.conf;
}
</code></pre></div></div>

<p>ä¿®æ”¹è‡ªå®šä¹‰æ–‡ä»¶</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vim ./conf.d/default.conf
</code></pre></div></div>

<p>å¢åŠ ä¸€ä¸ªç›‘å¬ç«¯å£</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>server {
    listen       80;
    server_name  localhost;

    root /Users/username/Sites/; # è¯¥é¡¹è¦ä¿®æ”¹ä¸ºä½ å‡†å¤‡å­˜æ”¾ç›¸å…³ç½‘é¡µçš„è·¯å¾„

    location / { 
        index index.php;
        autoindex on; 
    }   

    #proxy the php scripts to php-fpm  
    location ~ \.php$ {
        include /usr/local/etc/nginx/fastcgi.conf;
        fastcgi_intercept_errors on; 
        fastcgi_pass   127.0.0.1:9000; 
    }   

}
</code></pre></div></div>

<p>è¿™ä¸ªæ—¶å€™è¿˜ä¸èƒ½è®¿é—®phpç«™ç‚¹ï¼Œå› ä¸ºè¿˜æ²¡æœ‰å¼€å¯php-fpmã€‚</p>

<p>è™½ç„¶mac 10.9è‡ªå¸¦äº†php-fpmï¼Œä½†æ˜¯ç”±äºæˆ‘ä»¬ä½¿ç”¨äº†æœ€æ–°çš„PHPï¼ŒPHPä¸­è‡ªå¸¦php-fpmï¼Œæ‰€ä»¥ä½¿ç”¨PHPä¸­çš„php-fpmå¯ä»¥ä¿è¯ç‰ˆæœ¬çš„ä¸€è‡´ã€‚</p>

<p>è¿™é‡Œçš„å‘½ä»¤åœ¨å®‰è£…å®Œä¸‹ä¸€æ­¥çš„phpåå†æ‰§è¡Œ</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo nginx
sudo php-fpm -D
</code></pre></div></div>

<h2 id="php">PHP</h2>
<p>PHPåœ¨macä¸‹é»˜è®¤å®‰è£…äº†ï¼Œä½†æ˜¯ä¸å¥½æ§åˆ¶ç‰ˆæœ¬ï¼Œåˆ©ç”¨brewå¯ä»¥å†macä¸‹å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼Œç”šè‡³æ˜¯å¤šä¸ªç‰ˆæœ¬ï¼Œæˆ‘è£…äº†php5.5</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew update
brew tap homebrew/dupes
brew tap josegonzalez/homebrew-php
# brew install php55 --with-fpm #Nginx
brew install php55 #Apache
</code></pre></div></div>

<p>ç„¶åä¿®æ”¹phpçš„cliè·¯å¾„å’Œapacheä½¿ç”¨çš„phpæ¨¡å—ã€‚åœ¨.bashrcæˆ–.zshrcé‡Œå¤´åŠ ä»¥ä¸‹å†…å®¹</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#export PATH="$(brew --prefix josegonzalez/php/php55)/bin:$PATH" 
export PATH="/usr/local/bin:/usr/local/sbin:$PATH"
</code></pre></div></div>

<p>å°±ç”¨åˆšåˆšå®‰è£…çš„phpä»£æ›¿äº†ç³»ç»Ÿé»˜è®¤cliçš„phpç‰ˆæœ¬ã€‚ç„¶ååœ¨<code class="highlighter-rouge">/etc/apache2/httpd.conf</code>ä¸‹å¢åŠ </p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>LoadModule php5_module /usr/local/Cellar/php55/5.5.8/libexec/apache2/libphp5.so
</code></pre></div></div>

<p>è¿™æ ·å°±å¯¹apacheä½¿ç”¨çš„phpç‰ˆæœ¬ä¹Ÿè¿›è¡Œäº†ä¿®æ”¹ã€‚</p>

<p>åé¢ä¼šç”¨åˆ°mongoå’Œmysqlï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥åˆ©ç”¨ä¸‹é¢å‘½ä»¤å®‰è£…phpæ¨¡å—ï¼Œå…¶ä»–æ¨¡å—ä¹Ÿç±»ä¼¼</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#brew install php55-mysql #è¿™ä¸ªå·²ç»ä¸éœ€è¦å†å®‰è£…äº†
brew install php55-mongo
</code></pre></div></div>

<h2 id="mysql">MySQL</h2>
<p>macä¸è‡ªå¸¦mysqlï¼Œè¿™é‡Œéœ€è¦é‡æ–°å®‰è£…ï¼Œæ–¹æ³•ä¾ç„¶å¾ˆç®€å•</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew install mysql
unset TMPDIR
mysql_install_db --verbose --user=`whoami` --basedir="$(brew --prefix mysql)" --datadir=/usr/local/var/mysql --tmpdir=/tmp
sudo chown -R your_user /usr/local/var/mysql/
</code></pre></div></div>

<p>ç¬¬ä¸€å¥æ˜¯å®‰è£…ï¼Œåé¢çš„æ˜¯ç¡®ä¿æ­£å¸¸ä½¿ç”¨ã€‚ç„¶åæ˜¯å¯åŠ¨å‘½ä»¤</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysql.server start
</code></pre></div></div>

<p>æœ€å¥½ç»™mysqlè®¾ä¸ªå¯†ç ï¼Œæ–¹æ³•å¦‚ä¸‹</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysqladmin -u root password 'xxx'
</code></pre></div></div>

<p>å¦‚æœæƒ³ä¿®æ”¹mysqlçš„é…ç½®ï¼Œåœ¨<code class="highlighter-rouge">/usr/local/etc</code>ä¸‹å»ºç«‹ä¸€ä¸ª<code class="highlighter-rouge">my.cnf</code>ï¼Œä¾‹å¦‚å¢åŠ log</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[mysqld]
general-log
general_log_file = /usr/local/var/log/mysqld.log
</code></pre></div></div>

<h2 id="mongodb">MongoDB</h2>
<p>MongoDBå¯ä»¥è¯´æ˜¯æœ€ç®€å•çš„ä¸€ä¸ªï¼Œç›´æ¥æ‰§è¡Œ</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew install mongodb
</code></pre></div></div>

<p>å¯åŠ¨æ–¹æ³•</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mongod --fork
</code></pre></div></div>

<h2 id="phpmyadmin">PHPMyAdmin</h2>
<p>phpmyadminå‡ ä¹æ˜¯ç®¡ç†mysqlæœ€å®¹æ˜“çš„webåº”ç”¨äº†å§ï¼Œæ¯æ¬¡æˆ‘éƒ½é¡ºé“è£…ä¸Šã€‚</p>

<ul>
  <li>å»<a href="http://www.phpmyadmin.net/home_page/downloads.php">å®˜ç½‘</a>ä¸‹è½½æœ€æ–°çš„ç‰ˆæœ¬</li>
  <li>è§£å‹åˆ°~/Sites/phpmyadminä¸‹</li>
  <li>åœ¨phpmyadminç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªå¯å†™çš„configç›®å½•</li>
  <li>æ‰“å¼€http://localhost/phpmyadmin/setupï¼Œå®‰è£…ä¸€ä¸ªæœåŠ¡ï¼Œæœ€åä¿å­˜ï¼ˆè¿™é‡Œåªéœ€è¦è¾“å…¥å¸å·å¯†ç å°±å¤Ÿäº†ï¼‰</li>
  <li>å°†configä¸‹ç”Ÿæˆçš„config.inc.phpç§»åˆ°phpmyadminæ ¹ç›®å½•ä¸‹</li>
  <li>åˆ é™¤config</li>
</ul>

<p>è¿™æ ·å°±è£…å¥½äº†ï¼Œè™½ç„¶å¯èƒ½æœ‰ç‚¹å°å¤æ‚ï¼Œä½†æ˜¯æ¥ä¸€æ¬¡å°±ä¹ æƒ¯äº†ã€‚</p>

<p>è¿™é‡Œå¾ˆå¯èƒ½ä¼šé‡åˆ°2002é”™è¯¯ï¼Œå°±æ˜¯æ‰¾ä¸åˆ°mysql.sockçš„é—®é¢˜ï¼Œç”¨ä¸‹é¢æ–¹æ³•è§£å†³</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo mkdir /var/mysql
sudo ln -s /tmp/mysql.sock /var/mysql/mysql.sock
</code></pre></div></div>

<h2 id="rockmongo">RockMongo</h2>
<p>RockMongoæ˜¯MongoDBå¾ˆå¥½ç”¨çš„ä¸€ä¸ªwebåº”ç”¨ï¼Œå®‰è£…ä¹Ÿå¾ˆå®¹æ˜“</p>

<ul>
  <li>å»<a href="http://rockmongo.com/">å®˜ç½‘</a>ä¸‹è½½æœ€æ–°ç‰ˆæœ¬</li>
  <li>è§£å‹åˆ°~/Sites/rockmongoä¸‹</li>
  <li>è¿è¡Œhttp://localhost/rockmongoå³å¯</li>
</ul>

<h2 id="æŠŠ-site-æ”¾åœ¨-dropbox-æ–‡ä»¶å¤¹ä¸‹">æŠŠ site æ”¾åœ¨ Dropbox æ–‡ä»¶å¤¹ä¸‹</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ln -s ~/Dropbox/sitename ~/Sites/sitename
chmod a+rw ~/Dropbox
chmod a+rw ~/Dropbox/sitename
</code></pre></div></div>

<h2 id="å®Œæˆ">å®Œæˆ</h2>
<p>è¿™æ ·å°±åœ¨macä¸‹é…ç½®å¥½ä¸€ä¸ªphpå¼€å‘ç¯å¢ƒäº†ï¼Œenjoy it!</p>

<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<ol>
  <li><a href="http://www.nabito.net/hot-to-install-nginx-php-fpm-5-5-6-mongo-and-mysql-on-mac-with-homebrew/">Hot to install nginx, PHP-fpm 5.5.6, mongo and MySql on mac with homebrew</a></li>
  <li><a href="http://my.oschina.net/chen0dgax/blog/190161">Mac OSX 10.9æ­å»ºnginx+mysql+php-fpmç¯å¢ƒ</a></li>
</ol>

:ET