I"ï<p>ä½¿ç”¨virshè¿æ¥åˆ°åˆ«çš„æœåŠ¡å™¨æ—¶ï¼Œä½¿ç”¨çš„æ˜¯tcpè¿æ¥</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>virsh -c qemu+tcp://host/system
</code></pre></div></div>

<p>å¦‚æœç›®æ ‡æœåŠ¡å™¨æ²¡æœ‰å¼€å¯libvirtdçš„tcpç«¯å£ç›‘å¬æ—¶ï¼Œä¼šå‡ºç°</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>error: unable to connect to server at 'host:16509': Connection refused
error: failed to connect to the hypervisor
</code></pre></div></div>

<h2 id="ubuntuä¸‹è§£å†³æ–¹æ³•">ubuntuä¸‹è§£å†³æ–¹æ³•</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sed -i 's/#listen_tls = 0/listen_tls = 0/g' /etc/libvirt/libvirtd.conf
sed -i 's/#listen_tcp = 1/listen_tcp = 1/g' /etc/libvirt/libvirtd.conf
sed -i 's/#auth_tcp = "sasl"/auth_tcp = "none"/g' /etc/libvirt/libvirtd.conf

vi /etc/default/libvirt-bin
ä¿®æ”¹ä¸ºlibvirt_opts = "-d -l"  
å¢åŠ -lç›‘å¬tcp

service libvirt-bin restart
</code></pre></div></div>

<h2 id="centosä¸‹è§£å†³æ–¹æ³•">centosä¸‹è§£å†³æ–¹æ³•</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sed -i 's/#listen_tls = 0/listen_tls = 0/g' /etc/libvirt/libvirtd.conf
sed -i 's/#listen_tcp = 1/listen_tcp = 1/g' /etc/libvirt/libvirtd.conf
sed -i 's/#auth_tcp = "sasl"/auth_tcp = "none"/g' /etc/libvirt/libvirtd.conf
sed -i 's/#LIBVIRTD_ARGS="--listen"/LIBVIRTD_ARGS="--listen"/g' /etc/sysconfig/libvirtd

service libvirtd restart
</code></pre></div></div>
:ET