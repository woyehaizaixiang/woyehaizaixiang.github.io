I"ï<h2 id="å‘½ä»¤åŸºæœ¬ä¿¡æ¯">å‘½ä»¤åŸºæœ¬ä¿¡æ¯</h2>

<p>å®˜æ–¹æ–‡æ¡£ä½ç½®<a href="http://docs.openstack.org/developer/ceilometer/">è¿™é‡Œ</a></p>

<p>å…¨éƒ¨æ¥å£å¯ä»¥æ ¹æ®é˜…è¯»ä»¥ä¸‹ä»£ç æ–‡ä»¶æ¥è·å–</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ceilometerclient.shell.py  //ä¸€çº§å‘½ä»¤
ceilometerclient.v1.shell.py   //v1äºŒçº§å‘½ä»¤
ceilometerclient.v2.shell.py   //v2äºŒçº§å‘½ä»¤
</code></pre></div></div>

<p>æˆ‘ä¸‹é¢åªåˆ—å‡ºæˆ‘è‡ªå·±ç”¨çš„v2å‘½ä»¤</p>

<h2 id="å¸¸ç”¨ä¸€çº§å‘½ä»¤">å¸¸ç”¨ä¸€çº§å‘½ä»¤</h2>

<p>é¦–å…ˆé…ç½®ç¯å¢ƒå˜é‡ï¼Œä¸‹é¢å‡ ä¸ªåŸºæœ¬æ˜¯å¿…é¡»çš„ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é…ç½®é¡¹ä¼ å…¥</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>OS_USERNAME
OS_PASSWORD
OS_TENANT_NAME
OS_AUTH_URL
CEILOMETER_API_VERSION  
</code></pre></div></div>

<p>å¸¸ç”¨çš„å‘½ä»¤</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ceilometer    //æŸ¥çœ‹å¸®åŠ©å’ŒäºŒçº§å‘½ä»¤
</code></pre></div></div>

<blockquote>
  <p>ç°åœ¨ç»æµ‹è¯•ï¼Œéadminç”¨æˆ·æ— æ³•ä½¿ç”¨v2æ¥å£ï¼ŒåŸå› æ˜¯v1å’Œv2çš„acl.pyæ–‡ä»¶å¹¶ä¸ç›¸åŒï¼Œå¦‚æœä¸æ˜¯adminç”¨æˆ·v2ä¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼Œè¿™ä¸ªä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹policy.pyä»£ç æ¥æ§åˆ¶</p>
</blockquote>

<h2 id="äºŒçº§å‘½ä»¤">äºŒçº§å‘½ä»¤</h2>

<p>äºŒçº§å‘½ä»¤å¯ä»¥æŸ¥çœ‹æ”¶é›†å™¨æœé›†çš„æ•°æ®ï¼Œå®˜æ–¹è¯´Hç‰ˆæœ¬ä¼šå¼ƒç”¨v1ç‰ˆæœ¬æ¥å£ï¼Œæ‰€ä»¥æ¨èä½¿ç”¨v2æ¥å£ï¼Œç›¸åº”å‚æ•°åŠ-qé€‰é¡¹å¯ä»¥æŸ¥çœ‹ä»£ç ï¼Œå†fieldså˜é‡ä¸­æœ‰å®šä¹‰</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ceilometer meter-list   //åˆ—ä¸¾æ‰€æœ‰æµ‹é‡å€¼
ceilometer meter-list -q resource_id=XXX  //åˆ—ä¸¾æŸä¸€å®ä¾‹æµ‹é‡å€¼

ceilometer sample-list -m cpu -q resource_id=XXX    //åˆ—ä¸¾æŸä¸€å®ä¾‹çš„cpué‡‡æ ·æ•°æ®
ceilometer sample-list -m cpu_util -q 'resource_id=b7fc623d-1d4a-4ac7-b96b-78c9d921fa74;timestamp&gt;2013-05-21T03:18:20;timestamp&lt;2013-05-21T03:30:20'

ceilometer statistics -m cpu     //åˆ—ä¸¾å®ä¾‹çš„ç»Ÿè®¡æ•°æ®
  
ceilometer resource-list  //åˆ—ä¸¾æ‰€æœ‰å®ä¾‹åˆ—è¡¨
</code></pre></div></div>

<p>å¸¸ç”¨çš„qå†…å‚æ•°</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>resuorce_id 
user_id
project_id
timestamp
</code></pre></div></div>

:ET