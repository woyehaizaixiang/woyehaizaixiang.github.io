I"Ù<h2 id="wsgiweb-server-gateway-interface">WSGI(Web Server Gateway Interface)</h2>
<p>WSGIæ˜¯WEBæœåŠ¡ç½‘å…³æ¥å£çš„ç¼©å†™ï¼Œæ˜¯ä¸ºPythonè¯­è¨€å®šä¹‰çš„WebæœåŠ¡å™¨å’ŒWebåº”ç”¨ç¨‹åºä¹‹é—´ä¸€ç§ç®€å•è€Œé€šç”¨çš„æ¥å£ã€‚å®ƒæ²¡æœ‰å…·ä½“çš„å®ç°ï¼Œæ›´åƒæ˜¯ä¸€ä¸ªæ ‡å‡†åè®®ï¼Œå…·ä½“å¯ä»¥å»<a href="http://www.python.org/dev/peps/pep-0333/">PEP333</a>äº†è§£ã€‚</p>

<p>ç®€å•è¯´æ¥ï¼Œå®ƒæ˜¯ä¸€ä¸ªè¿æ¥ç”¨æˆ·åº”ç”¨å’ŒWebæœåŠ¡å™¨çš„æ¡¥æ¢ï¼Œæœ‰ç‚¹ç±»ä¼¼Apacheçš„CGIã€‚</p>

<h2 id="ç®€å•ä¾‹å­">ç®€å•ä¾‹å­</h2>
<p>ä¸‹é¢æ˜¯æ¥è‡ªPEP333çš„ä¸€ä¸ªç®€å•ä¾‹å­</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def simple_app(environ, start_response):
    """Simplest possible application object"""
    status = '200 OK'
    response_headers = [('Content-type','text/plain')]
    start_response(status, response_headers)
    return ['Hello world!n']
</code></pre></div></div>

<p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸ªä¾‹å­é‡Œå°±æ˜¯è¾“å‡ºäº†ä¸€ä¸ªåŸºæœ¬Webé¡µé¢çš„bodyå’Œheaderã€‚å…¶ä¸­environå°±æ˜¯æŠŠç¯å¢ƒå˜é‡å•¥çš„ä¸€èµ·ä¸¢è¿›æ¥ï¼Œè€Œstart_responseå°±åƒrpcä¸€æ ·è´Ÿè´£å“åº”è¿™æ¬¡è¯·æ±‚ã€‚æ¥ä¸‹æ¥çœ‹ä¸€ä¸‹èƒ½è¿è¡Œçš„ä»£ç ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>from wsgiref.simple_server import make_server

def my_app(environ, start_response):
    """a simple wsgi application"""
    status = '200 OK'
    response_headers = [('Content-type', 'text/plain')]
    start_response(status, response_headers)
    return ["hello world"]

httpd = make_server('', 8000, my_app)
print "Serving on port 8000..."
httpd.serve_forever()
</code></pre></div></div>

<p>è®¿é—®localhost:8000å³å¯çœ‹åˆ°hello worldæ˜¾ç¤ºäº†å‡ºæ¥ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªwsgiçš„ç®€å•ä¾‹å­äº†</p>

:ET