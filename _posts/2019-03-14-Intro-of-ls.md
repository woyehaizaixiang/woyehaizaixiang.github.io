---
layout: post
title: 解析 ls -l 显示列表含义
categories: Linux
keywords: Linux
prism: bash
---

使用 `ls -l` 你将看到 9 个字段的列表：

```bash
drwxr-xr-x  3 root  root  4096 3月  19 15:35 .
drwxr-xr-x 24 root  root  4096 3月  19 16:03 ..
drwxr-xr-x 18 zohar zohar 4096 3月  19 16:51 zohar
```

**目录**

* TOC
{:toc}

## 文件类型

```bash
drwxr-xr-x  6 zohar zohar  4096 3月  13 23:04 .android
```

首字母 **d** 即代表文件类型, linux 文件类型有:

文件类型 | 代表符号 | 作用
:--- | :--: | :---
普通文件 | `-` | 普通文件
目录文件 | `d` | 目录
链接文件 | `l` | 普通文件的逻辑名, 类似于快捷方式
字符设备文件 | `c` | 
块设备文件 | `b` | 硬盘 光盘 U盘等
管道文件 | `p` | 提供进程间通信的文件
套接字文件 | `s` | 提供网络通信的文件

## 文件权限

```bash
drwxr-xr-x  6 zohar zohar  4096 3月  13 23:04 .android
```

首字母 d 后 9 位字符代表文件权限, linux 文件**普通权限**有:

权限 | 代表符号 | 含义 | 代表数字
:--: | :--: | :---: | :--:
无权限 | - | - | 0
可运行 | x | executable | 1
可写 | w | writable | 2
可读 | r | readable | 4

`rexr-xr-x` 9 个字符, 每 3 个为一组, 共分为三组:  
`rex` 和 `r-x` 和 `r-x`  
前三个字符代表所有者的权限
中间三个字符代表所有者所在组的权限
后三个字符代表该组以外所有用户的权限

### 权限修改

修改权限, 以 3 个连续的数字代表三组权限, 每组权限所代表的数字为三种权限所代表的数字相加, 如:  
`775` 代表 所有者(owner) 的权限为 7, 所在组(group) 权限为 7, 其他(other) 权限为5  
这些权限可表示为:  

数字 | 权限 | 计算方式(r+w+x)
:--: | :--- | :---:
0 | 无权限 | 0+0+0
1 | 可执行 | 0+0+1
2 | 可写 | 0+2+0
3 | 可写可执行 | 0+2+1
4 | 可读 | 4+0+0
5 | 可读可执行 | 4+0+1
6 | 可读可写 | 4+2+0
7 | 所有权限 | 4+2+1

## 链接数 or 第一级子目录数

```bash
drwxr-xr-x  6 zohar zohar  4096 3月  13 23:04 .android
```

第二个字段是一个数字, 表示是该文件的硬链接数或者是第一级子目录数

* 如果是普通文件, 则显示该文件的所有名称, 即硬链接数
* 如果是目录文件, 则显示该目录下所有的第一级子目录数, 即如果是一个文件夹, 则显示文件夹内所有**目录文件**的数量


## 文件所有者

```bash
drwxr-xr-x  6 zohar zohar  4096 3月  13 23:04 .android
```

第三个字段记录了文件的所有者, 其权限描述为三组权限描述 `rwxr-xr-x` 中的第一组 `rwx`;  
文件所有者可以定义和修改该文件的元信息和内容, 不过 root 用户可以修改所有文件的元信息及内容

## 文件所有者所在组

```bash
drwxr-xr-x  6 zohar zohar  4096 3月  13 23:04 .android
```

第四个字段记录了文件的所有者所在的组信息, 其权限描述为三组权限描述 `rwxr-xr-x` 中的第二组 `r-x`;  

## 文件大小

```bash
drwxr-xr-x  6 zohar zohar  4096 3月  13 23:04 .android
```

第五个字段记录了文件的大小, `.android` 文件是目录文件, 目录文件也是文件中的一种, 其大小为 2k字节;

## 文件修改时间

```bash
drwxr-xr-x  6 zohar zohar  4096 3月  13 23:04 .android
```

第六至第八字段分别为文件最后修改日期的**月份** **日期** 和 **具体时间**, 如果该文件为目录文件, 则为该目录文件内包含文件的最后修改日期;

## 文件名

```bash
drwxr-xr-x  6 zohar zohar  4096 3月  13 23:04 .android
```

字段九则为文件名